## go语言中指针
指针相关内容参见：[Pointers](https://github.com/studygolang/GCTT/blob/master/published/tech/20171117-Golang-tutorial-series/15-Pointers.md)

指针和值的一些容易混淆的用法
### 作为函数参数
* 地址作为函数参数传递，在函数中修改参数的值，会影响到函数外的数据
* 值传递，在函数内部所做的修改不会影响函数外的数据
其实这个地址与值做参数传递，类似于其他语言中的引用传递与值传递。
### 作为方法的接收器
### 使用值接收器来实现接口，使用指针接收器来实现接口
值接收器和指针接收器都可以实现接口，但是两个还是有区别的，下面我们通过一段代码来分析。
```
package main

import "fmt"

type Describer interface {  
    Describe()
}
type Person struct {  
    name string
    age  int
}

func (p Person) Describe() { // 使用值接受者实现  
    fmt.Printf("%s is %d years old\n", p.name, p.age)
}

type Address struct {
    state   string
    country string
}

func (a *Address) Describe() { // 使用指针接受者实现
    fmt.Printf("State %s Country %s", a.state, a.country)
}

func main() {  
    var d1 Describer
    p1 := Person{"Sam", 25}
    d1 = p1
    d1.Describe()
    p2 := Person{"James", 32}
    d1 = &p2
    d1.Describe()

    var d2 Describer
    a := Address{"Washington", "USA"}

    /* 如果下面一行取消注释会导致编译错误：
       cannot use a (type Address) as type Describer
       in assignment: Address does not implement
       Describer (Describe method has pointer
       receiver)
    */
    //d2 = a

    d2 = &a // 这是合法的
    // 因为在第 22 行，Address 类型的指针实现了 Describer 接口
    d2.Describe()

}
```
在上面程序中，结构体**Person**使用值接受器，实现了 **Describer** 接口。

前面我们在讨论**方法**的值接收器或指针接收器的时候就已经提到过，使用值接受器声明的方法，既可以用值来调用，也能用指针调用。**不管是一个值，还是一个
可以解引用的指针，调用这样的方法都是合法的。**

p1 的类型是 Person，由于 Person 实现了接口Describer，所以 p1 可以赋值给 d1 ，因此会打印 Sam is 25 years old。

接下来d1 又赋值被为 &p2，同样打印输出了 James is 32 years old。棒棒哒。:)

在上面程序里，如果去掉注释，我们会得到编译错误：main.go:42: cannot use a (type Address) as type Describer in assignment: Address does 
not implement Describer (Describe method has pointer receiver)。这是因为我们使用 Address 类型的指针接受器实现了接口 Describer，
而接下来我们试图用 a 来赋值 d2。**然而 a 属于值类型，它并没有实现 Describer 接口**。

你应该会很惊讶，因为我们曾经学习过，使用指针接受器的方法，无论指针还是值都可以调用它。那么为什么注释掉的代码就不管用呢？

其原因是：**对于使用指针接受器的方法，用一个指针或者一个可取得地址的值来调用都是合法的。
但接口中存储的具体值（Concrete Value）并不能取到地址，因此在注释的代码段，对于编译器无法自动获取 a 的地址，于是程序报错。**

但是我们将 a 的地址 &a 赋值给了 d2。能够正常运行，并输出结果如下：
```
Sam is 25 years old  
James is 32 years old  
State Washington Country USA
```
具体参见：[接口](https://github.com/studygolang/GCTT/blob/master/published/tech/20171117-Golang-tutorial-series/19-Interfaces-II.md)
